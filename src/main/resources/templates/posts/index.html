<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="partials/partials :: head ('View All Questions')"></head>
<body>
<nav th:replace="partials/partials :: navbar"></nav>

<div class="container p-5">
    <div class="circle">
        <div class="scircle">
        </div>
    </div>

    <form class="form-inline justify-content-center" style="align-content: center" action="/search">
        <input class="form-control col-lg-8" type="search" name="searchTerm" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline my-2 my-sm-0" type="submit">Search</button>
    </form>

    <h1 class="template-h2 slide-right py-3 text-center"><span class="lambda">Î›</span>ll  Questions</h1>

    <div class="row">
        <div class="col-md-2 order-md-2">
            <a th:href="@{|/posts/create|}"><button class="ask-question p-3 mb-3 w-100">Ask a Question</button></a>
        </div>
        <div class="col-md-10">
            <div class="post-div slide-right row p-3 mb-3 bg-white rounded-lg shadow" th:each="post : ${posts}">
                <div class="col-2 d-flex flex-column justify-content-center align-items-center">
                    <p th:utext="${post.responses.size() + '<br>responses'}" class="small p-2 m-0 text-center border border-secondary rounded-lg"></p>
                </div>
                <div class="col-10">
                    <h2><a th:href="@{|/posts/${post.id}|}" th:text="${post.title}"></a></h2>

                    <th:block th:unless="${#lists.isEmpty(post.categories)}">
                        <th:block th:each="category : ${post.categories}">
                            <th:block th:unless="${post.id != category.post.id}">
                                <p class="m-0" th:text="${'Tags: ' + category.name}"></p>
                            </th:block>
                        </th:block>
                    </th:block>

                    <p class="m-0 text-right" th:text="${'Asked by: ' + post.user.username + ' - ' + post.prettyDate()}"></p>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3 d-flex justify-content-center">
        <div class="profile-box-container">
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
            <div class="profile-box"></div>
        </div>
    </div>
</div>

<standard_scripts th:replace="partials/partials :: footer">
</standard_scripts>
</body>
</html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/partials :: head ('Profile')"></head>
<body>
<nav th:replace="partials/partials :: navbar"></nav>

<!--<div class="container" sec:authorize="isAuthenticated()" th:unless="${#authentication.name != user.email}">-->
<div class="container">
    <a th:href="@{|/user/edit/${user.getId()}|}"><button style="width: 55px">Edit</button></a>
    <h2 class="slide-right" style="padding-top: 15px">Your Recent Posts</h2>
    <br>
    <div class="post-div slide-right row p-3 mb-3 bg-white rounded-lg shadow" th:each="post : ${posts}">
        <div class="col-1" style="padding: 0 7px">
            <p th:utext="${post.responses.size() + '<br>responses'}" class="small text-center"></p>
        </div>
        <div class="col-8">
            <h2 style="padding: 0 45px"><a th:href="@{|/posts/${post.id}|}" th:text="${post.title}"></a></h2>
            <th:block th:unless="${#lists.isEmpty(post.categories)}">
                <th:block th:each="category : ${post.categories}">
                    <th:block th:unless="${post.id != category.post.id}">
                        <p th:text="${'Tags: ' + category.name}" style="padding: 0 45px"></p>
                    </th:block>
                </th:block>
            </th:block>
            <p class="text-right">Asked by: <span th:text="${post.user.username + ' ' + post.prettyDate()}"></span></p>
        </div>
    </div>



<br><br>
</div>


<!--<div class="profile-box-container">-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--    <div class="profile-box"></div>-->
<!--</div>-->
<!--<a th:href="@{|/user/edit/${user.getId()}|}" class="btn btn-warning">Edit</a>-->

<!--<button type="button" class="btn btn-warning">Warning</button>-->
<!--<a th:href="@{'/user/edit/' + ${user.id}}" class="btn btn-warning btn-lg active" role="button" aria-pressed="true" style="width: 200px">Edit Profile</a>\-->

<!--<a href="/logout">Logout</a>-->

<standard_scripts th:replace="partials/partials :: footer">
</standard_scripts>
</body>
</html>